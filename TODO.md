- GitHub Action
    - Use same base image as `devvm.sh`
        - Add a check for that.
    - Call `make ci`
    - If there's a tag, generate a release with Linux binaries for various archs.
        - Publish Go reference documentation.
        - Publish Go package.
- README.md
    - Add badges
      - GH actions state
      - Go reference
      - Version
      - Coverage
      - go report
      - license
- Add TESTS!
- `host/`
    - `local.go`
        - Use [subreaper to wait on all children](https://github.com/fornellas/rrb/blob/main/runner/runner.go).
        - Add option to use sudo to run commands.
    - `ssh.go`
        - Implement using Go Ssh libraries.
        - Add option to use sudo to run commands.
- `resource/`
    - `alternatives.go`
        - Implement with `update-alternatives`.
    - `apt_update.go`
        - Calls `apt-get update`.
        - There should be a single resource declaration
            - Implicitly added if not present.
        - It must be `refreshed_by` `APTRepository`.
        - Parameters can be "freshness", so eg, if update is > freshness, then do update.
    - `apt_repository.go`:
        - Use `add-apt-repository` to add at `/etc/apt/sources.list.d`
    - `apt_package.go`
        - Support directly passing `.deb` packages.
        - Enforce after `File[/etc/apt/preferences.d/.+]`.
    - `file.go`
        - Set default values for parameters.
        - Support `User` and `Group` (requries `host.Host.Getuid/Getgid`)
        - Type: regular, link, dir, char device, block device, pipe, socket.
    - `group.go`
        - Manage groups.
        - Mergeable.
    - `user.go`
        - After `Group[.+]`.
        - Mergeable.
    - `resource.go`
        - `Plan.Execute`
            - At the end check again, fail if changes detected (bug in implementation).
            - On success, save `ResourceBundles` to `PersistantState`.
            - Parallelise check.
            - Call check after apply to validate.
            - Auto-rollback saved state on failures.
        - `LoadResourceBundles`
            - Receive a single directory and load recursively from it.
            - Go templates
                - Before parsing yaml, Go template each resource bundle yaml.
                - Template is a function of:
                    - `--host-parameters parms.yaml`, containing host specific stuff (Eg: secrets)
                    - `HostInventory`
                        - General information about the host.
                        - Must only contains things that are NOT affected by any resource (eg: CPU, memory etc.)
                        - Should save with state and check for changes?
                        - After apply, reload `HostInventory`
                            - If there are any changes, it means an implementation bug.
                            - There may be valid corner cases here. In such scenarios:
                                - `--allow-inventory-changes` have apply re-run when inventory changes at the end.
                                - Should put a limit (otherwise, inifinite loops can happen).
        - `PersistantState`
            - Change interface to only read / write `[]bytes`, so that serialization code can be shared across all interface implementations.
            - Add field with resonance version at schema.
        - `ResourceDefinition`
            - Support `refreshed_by`, to enable resources to subscribe to others (eg: `SystemdUnit[nginx.service]` is `refreshed_by` `File[/etc/nginx/.+]`)
        - `ManageableResource`
            - Support defining implicit dependencies (eg: APTSource before APTPackage)
            - Check if current host OS is supported.
        - Output
            - Use the output of one resource as parameter for another.
                - Eg: a service creates an ID which another resource depends on.
- `cli/`
    - `**/cmd.go`
        - ^C cancel context
    - `check/cmd.go`: implement: checks host state / resources against host.
    - `plan/cmd.go`:
        - implement: checks host state / resources and calculate plan against host.
        - Add `--graphviz` option
        - Add `--svg option` (generate the svg directly from the internal graphviz)
    - `lint/cmd.go`: implement:
        - Validate resource definitions
        - Lint yaml (format & sort)
    - `refresh/cmd.go`
    	- Update state to match declared resources.
    - `destroy/cmd.go`
        - Destroy all resources at state