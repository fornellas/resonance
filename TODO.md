- GitHub Action
    - Use same base image as `devvm.sh`
        - Add a check for that.
    - Call `make ci`
    - If there's a tag, generate a release with Linux binaries for various archs.
        - Publish Go reference documentation.
        - Publish Go package.
- README.md
    - Add badges
      - GH actions state
      - Go reference
      - Version
      - Coverage
      - go report
      - license
- `host/local.go`
    - Use [subreaper to wait on all children](https://github.com/fornellas/rrb/blob/main/runner/runner.go).
- `host/ssh.go`: implement.
- `resource/apt_package.go`: implement.
- `resource/file.go`: implement.

- PersistantState
    - Change interface to only read / write `[]bytes`, so that serialization code can be shared across all interface implementations.
- restic apply
    - Before the end, call check again: if changes detected, there's a bug in implementation.
    - On success, save ResourceBundles to host state.
    - Paralelise reading state.
        - Log is indented, it'll be messy: how to address?
    - LoadResourceBundles
        - Recursively load from directory, not individual yaml files
- ManageableResource
    - Support defining implicit dependencies (eg: APTSource before APTPackage)
- Add TESTS!
- HostState
	- Add field for version, required if the schema changes over time.
- ^C cancel context
- host/ssh.go
    - Implement
- restic check
    - Check whether host state matches desired state
- restic plan
	- Implement :-D
	- Add --graphviz option
	- Add --svg option (generate the svg directly from the internal graphviz)
- restic lint
    - Validate resource definitions
    - Lint yaml (format & sort)
- restic refresh
	- Update state from current host state
- restic destroy
    - Destroy all resources at state
- ResourceDefinition
	- refreshed_by
        - enables a resource (eg: nginx service) to subscribe to any resources it depends on (eg: File[/etc/nginx/.+])
        - Both apply and destroy must trigger refresh.
- resource/file.go
  - Set default values for parameters
- Go templates
    - Process all resource bundle yamls with Go template
    - Template can be a function of:
        - --host-parameters parms.yaml, containing host specific stuff (Eg: same resource bundle yaml can be used with different hosts)
        - HostInventory
            - General information about the host.
            - Must only contains things that are NOT affected by any resource (eg: CPU, memory etc.)
            - Should save with HostState and check for changes?
            - After apply, reload HostInventory, and check whether anything changed. If so, it means there's a bug in some resource.